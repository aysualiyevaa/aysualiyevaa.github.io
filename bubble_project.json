{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "https://raw.githubusercontent.com/aysualiyevaa/aysualiyevaa.github.io/refs/heads/main/bubble_project.csv",
      "format": { "type": "csv", "parse": { "Population": "number", "Employment": "number", "Capacity": "number" } }
    },
    "title": {
      "text": "Renewable Energy Employment vs Capacity in Nordic Countries in 2023",
      "color": "#013220",  
      "subtitle": [
        "Employment (y), Renewable Energy Capacity (x).",
        "Source: WorldBank, International Energy Agency, International Renewable Energy Agency",
        "Size of points based on Population."
  
      ],
      "subtitleFontStyle": "italic",
      "subtitleFontSize": 12,
      "anchor": "start",
      "color": "black"  
    },
    "mark": {
      "type": "circle",
      "opacity": 0.8
    },
    "height": 400,
    "width": 400,
    "encoding": {
      "x": {
        "field": "Capacity",
        "type": "quantitative",
        "axis": { "grid": false },
        "title": "Renewable Energy Capacity (MW)",
        "scale": { "domain": [0, 13000] }  
      },
      "y": {
        "field": "Employment",
        "type": "quantitative",
        "axis": { "grid": false },
        "title": "Renewable Energy Employment"
      },
      "size": {
        "field": "Population",
        "type": "quantitative",
        "scale": { "range": [100, 5000] },
        "legend": { "title": "Population" }
      },
      "color": {
        "field": "Country",
        "type": "nominal",
        "scale": {
          "domain": ["Denmark", "Norway", "Sweden", "Iceland", "Finland"],
          "range": ["#004d26", "#006400", "#2e8b57", "#3c763d", "#4c9a2a"]  
        },
        "legend": {
          "title": "Country",
          "labelFontSize": 10,
          "symbolSize": 50
        }
      },
      "tooltip": [
        { "field": "Country", "type": "ordinal", "title": "Country" },
        { "field": "Employment", "type": "quantitative", "title": "Employment", "format": ",.0f" },
        { "field": "Capacity", "type": "quantitative", "title": "Capacity (MW)", "format": ",.0f" },
        { "field": "Population", "type": "quantitative", "title": "Population", "format": ",.0f" }
      ]
    },
    "selection": {
      "highlight": {
        "type": "single",
        "on": "mouseover",
        "fields": ["Country"],
        "empty": "none",
        "encodings": ["color"]
      }
    }
  }